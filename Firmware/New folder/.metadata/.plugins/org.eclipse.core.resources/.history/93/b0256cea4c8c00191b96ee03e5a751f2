/*
 * Iridium.h
 *
 * Iridium communication uses USART3 for serial comms. This maps to GPIOB.
 * This can be changed in the defines
 *  Created on: Jun 11, 2019
 *      Author: Jamie
 */

#ifndef IRIDIUM_H_
#define IRIDIUM_H_

#include "stdio.h"
#include "stdint.h"
#include "stm32f4xx.h"
#include "stm32f4xx_gpio.h"
#include "stm32f4xx_usart.h"

/*Private Macros*/
#define Iridium_GPIO_RCCPeriph RCC_AHB1Periph_GPIOB
#define Iridium_USART_RCCPeriph RCC_APB1Periph_USART3

#define Iridium_GPIO_PeriphClockCommand RCC_AHB1PeriphClockCmd
#define Iridium_USART_PeriphClockCommand RCC_APB1PeriphClockCmd

#define Iridium_USART USART3
#define Iridium_GPIO GPIOB

#define Iridium_NetAv_Pin GPIO_Pin_8
#define Iridium_Wakeup_Pin GPIO_Pin_9
#define Iridium_USART_TX GPIO_Pin_10
#define Iridium_USART_RX GPIO_Pin_11

#define Iridium_USART_TXsrc GPIO_PinSource10
#define Iridium_USART_RXsrc GPIO_PinSource11
#define Iridium_Wakeup_Pinsrc GPIO_PinSource9
#define Iridium_NetAv_Pinsrc GPIO_PinSource8

#define Iridium_GPIO_AF GPIO_AF_USART3

#define Iridium_Baudrate 19200
/*Private functions*/
void init_Iridium_USART(void);
void init_Control_Pins(void); //Network Available (input), Wake up (output)
#endif /* IRIDIUM_H_ */
